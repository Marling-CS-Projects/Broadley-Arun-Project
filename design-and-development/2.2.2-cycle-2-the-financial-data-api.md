# 2.2.2 Cycle 2: The Financial Data API

## Design

In this cycle i need to get historical financial data to fill in the exchange and stock drop-downs and the historical data required by the linear regression analysis. To do this i signed up to a data service called EOD, Link: [https://eodhd.com](https://eodhd.com/?utm\_source=google\_search\&utm\_medium=cpc\&utm\_campaign=Brand\_Europe\&roistat\_referrer=\&roistat\_pos=\&roistat=google1\_g\_124657464434\_518337075801\_eod%20historical%20data\&gad=1\&gclid=CjwKCAjwxOymBhAFEiwAnodBLC-n\_0pBmpi5M\_-K\_18FH-sz0UDxl4g-WnWp9MWLLWABcSHgk69vCRoClXQQAvD\_BwE) . I chose this website because it has all the data i need and the API seemed quite easy to use.

Once i had signed up to this data service I got send an API token which i have to include in all API calls, the limit is 100,000 per day which should be enough. This cost me Â£20.00 per month but as i am a student i send them my student ID and they gave me a 50% discount.&#x20;

Initially I will call the API from my Front-end JavaScript this is for ease of development the code will need to be moved to a the Back-end in a later cycle, mainly to protect the API key, or anyone with access to the Front-end could use it.



### Objectives

* [x] Sign up for EOD historical data
* [x] Use EOD API to download exchange data and fill in exchange option on Front-end header
* [x] Use EOD API to download stock data for selected exchange
* [x] Integrate data into Front-end&#x20;

### Outcomes

#### Signing up for EOD historical data

Signing up fro EOD was simple, I did need to contact them be email, though to get the student discount, I had to send them my Marling student card to get the discount once, signed up when I login to their service.

<figure><img src="../.gitbook/assets/image (1) (1).png" alt=""><figcaption><p>EOD Dashboard</p></figcaption></figure>

This is the dashboard you have access to once you sign up to the service. On the right hand side you can see the API Token. This needs to be provided with all API requests and allows EOD to validate that you are paying for their service. You can also see on the right hand side that I am allowed to call their API's 100,000 a day. This should be enough :).

### Using API to Download Exchange Data

First API call I needed to do was to call the API that allows me to download the list of stock exchanges that are supported by EOD. I will use these once they are downloaded to fill in my selection box in the main header.

[https://eodhistoricaldata.com/api/exchanges-list/?api\_token=64da251199fa75.51782811](https://eodhistoricaldata.com/api/exchanges-list/?api\_token=64da251199fa75.51782811%27)

This API call requests a download of all the data on the exchanges and produces data in JSON format like this.

<figure><img src="../.gitbook/assets/image (2).png" alt=""><figcaption></figcaption></figure>

### Using API to download Stock Data for selected Exchange

Once the user has selected an exchange using the information we use above , the next thing we will have to do is download the stock tickers available in that exchange.

Following is the API call to do it:

[https://eodhistoricaldata.com/api/exchange-symbol-list/LSE?api\_token=64da251199fa75.51782811\&fmt=json](https://eodhistoricaldata.com/api/exchange-symbol-list/LSE?api\_token=64da251199fa75.51782811\&fmt=json)

This call has 3 paramaters.&#x20;

* 'LSE' which stands for "London Stock Exchange" the exchange to return all the stock symbols for.&#x20;
* API\_Token with our key.
* FMT=JSON : This specifies that we want the return in JSON format and not CSV.

One entry in the return looks like this. I was surprised just how many stock symbols there are in an exchange. For instance London has over 6000 entries, only some of which are actually common stock, there are ETF's and strange Scrips etc... Good news is that we can filter those out.

<figure><img src="../.gitbook/assets/image.png" alt=""><figcaption></figcaption></figure>



### Integrating Data into Front-End

I want to use these API's to make my Front-End work better allowing the user to select first the exchange using an autocomplete box and then using another Auto-Complete box to select a stock in that exchange.

![](<../.gitbook/assets/image (1).png>)

Above you can see a screenshot of that working!. I've selected the London Exchange and then have type 'LLo' into the Select Stock box which then shows the stock tickers which contain 'LLO' anywhere in there name.



```
```



### Challenges



## Testing



### Tests

<table><thead><tr><th width="85"></th><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td>1</td><td>Select Exchange</td><td></td><td></td><td></td></tr><tr><td>2</td><td></td><td> </td><td></td><td></td></tr><tr><td>3</td><td></td><td></td><td></td><td></td></tr><tr><td>4</td><td></td><td></td><td></td><td></td></tr></tbody></table>

### Evidence

####







####

